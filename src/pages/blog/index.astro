---
import Pagination from "../../components/Pagination.astro";
import PostList from "../../components/PostList.astro";
import config from "../../config";
import Layout from "../../layouts/Layout.astro";
import { listPosts } from "../../notion";

const { database, totalPages, currentPage, posts } = await listPosts(1);
---

<Layout>
  <main class="py-12 lg:py-20">
    <article class="max-w-6xl mx-auto px-3">
      <header class="text-center mb-6">
        <h1 class:list={["mb-4 text-3xl title", config.index?.titleClasses]}>
          余白
        </h1>
        <p class="mx-auto max-w-xl">仕事、趣味、日常、その他の記録です。</p>
      </header>
      <PostList posts={posts} />
      <Pagination page={currentPage} pageCount={totalPages} />
    </article>
  </main>
</Layout>
<style
  define:vars={{
    titleFontFamily: config.index?.titleFontFamily || "inherit",
  }}
>
  .title {
    font-family: var(--titleFontFamily);
  }
</style>
